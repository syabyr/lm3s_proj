系统上电,初始化液晶,显示LOGO,然后是用户界面

温度传感器部分:
若温度传感器存在,在液晶的左上角绘制一个绿色的图标,然后在图标的右边显示温度值,每一秒更新一次.
若温度传感器不存在,在液晶的左上角绘制一个红色的图标,然后在图标的右边显示警告.同时扫描总线,寻找温度传感器,直至找到.

心电波形部分:
在液晶的下方实时地绘制波形,以扫描的形式绘制.


网络部分:
板子重启后,如果获得IP地址成功,能够连接互联网,开始向主机(预设定)的一个监听端口(7000)请求数据上传服务,获得监听端口分配的端口号后,板子向新的端口号发送要上传的数据.

demon部分:
作为一个服务程序运行,监听7000端口,当接受到客户端发送的请求时,(验证客户端的合法性),查看从7001开头的端口是否可用,若客户端合法,并且找到了一个可用的端口,将这个可用的端口号发给客户端.7000端口会继续等待请求服务.然后监听这个可用的端口,等待客户端和这个可用的端口建立连接,传输数据.若超时,重新回收这个端口.

7000端口:
监听,等待客户端请求服务,若请求的服务不合法,拒绝请求.若合法,以及验证成功,分配一个可用的端口(7001+),然后继续等待服务.
分配的可用端口(7001+)打开后,等待连接,成功连接后,开始发送数据.

如何判断端口是否被占用?


